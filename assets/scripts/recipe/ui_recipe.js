'use strict'
// Handlebars for recipe card generated by search
const recipeCard = require('../../../templates/recipeCard.handlebars')
// Recipe cards created when getting all of the user's recipes
const userRecipeCard = require('../../../templates/userRecipeCard.handlebars')
// Displying more information for one recipe
const userOneRecipeCard = require ('../../../templates/userOneRecipeCard.handlebars')
const pageUi = require('../page_view/ui_page')
const store = require('../store.js')



const searchEdananmSuccess = function (data) {
  pageUi.loginScreen()
  const addRecipeToHtml = recipeCard({recipes: data.body})
  $('#displayContainer').html(addRecipeToHtml)
}

const searchEdanamFail = function () {
  $('displayContainer').html('<h3>Please try again</h3>')
}

const saveRecipeSuccess = function () {
$('#userMessages').html('<h4>Recipe Saved to List</h4>')
}

const saveRecipeFail = function () {
  $('displayContainer').html('<h3>Please try again</h3>')
}

const getRecipesSuccess = function (data) {
  store.userRecipes = data
  pageUi.loginScreen()
  store.userRecipes = data.body
  const addUserRecipeToHtml = userRecipeCard({recipe: data.body})
  $('#displayContainer').html(addUserRecipeToHtml)
  return data.body
}

const getRecipesFail = function () {
  pageUi.loginScreen()
  $('#userMessages').html('<h4>Unable to get recipes, try again! </h4>')
}

const deleteRecipeSuccess = function () {
  $('#userMessages').html('<h4>The Recipe has been removed from your list</h4>')
}

const deleteRecipeFail = function () {
  $('#userMessages').html('<h4>Unable to remove recipe from the list recipes, try again! </h4>')
}

const buyIngredientsFail = function () {
  $('#userMessages').html('<h4>Unable to load Amazon</h4>')
}
const buyIngredientsSuccsess = function (data) {
}

const alreadySaved = function () {
  $('#userMessages').html('<h4>Already saved the recipe</h4>')
}

const showOneUserRecipe = function (data) {
  console.log(data, 'data')
  console.log(data.uri, 'data.uri')
  const addUserRecipeToHtml = userOneRecipeCard({recipe: data})
  $('#displayContainer').html(addUserRecipeToHtml)
}

module.exports = {
  searchEdananmSuccess,
  searchEdanamFail,
  saveRecipeSuccess,
  saveRecipeFail,
  getRecipesSuccess,
  getRecipesFail,
  deleteRecipeSuccess,
  deleteRecipeFail,
  buyIngredientsFail,
  buyIngredientsSuccsess,
  alreadySaved,
  showOneUserRecipe
}
